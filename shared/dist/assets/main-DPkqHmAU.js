import{d as M,y as R,c as $,N as T,K as x,D as c,k as e,o as a,A as l,a as i,F as g,b as u,j as y,B as n,t as f,r as j,e as z,l as K,m as O}from"./index-Ce_smM0X.js";import{v as U}from"./vuetify-BC_h0XMe.js";import{G as s,t as A,H as k,E as F,I as p}from"./replicant_store-BlOELdrX.js";import"./_commonjsHelpers-BosuxZz1.js";const W={key:0,style:{"font-style":"italic"}},q={key:1,style:{"font-style":"italic"}},J={class:"mb-1"},Q={key:0,class:"red--text font-weight-bold"},X={key:1,class:"red--text font-weight-bold"},Y={key:2,class:"red--text font-weight-bold"},Z={key:3,class:"red--text font-weight-bold"},ee={key:4,class:"font-italic"},te={class:"mb-1"},se={key:0,style:{"font-weight":"bold",color:"#58CF00"}},ae={key:1,style:{"font-weight":"bold",color:"#FF5F5C"}},ne=["src"],oe=M({__name:"main",setup(de){const d=nodecg.bundleConfig.obs,S=nodecg.bundleConfig.event,G=[d.names.scenes.commercials,d.names.scenes.intermission,d.names.scenes.intermissionPlayer,d.names.scenes.intermissionCrowd,d.names.scenes.countdown],w=R(!1),E=$(()=>{var r,t,m;return((r=s.data)==null?void 0:r.transitioning)||((t=s.data)==null?void 0:t.disableTransitioning)||!!G.find(b=>{var _,C;return(C=(_=s.data)==null?void 0:_.scene)==null?void 0:C.startsWith(b)})||["running","paused"].includes(((m=A.data)==null?void 0:m.state)||"")});function B(r){return s.data?s.data.transitioning||r===s.data.scene||s.data.disableTransitioning:!0}function H(){nodecg.sendMessage("startIntermission")}function D(r){nodecg.sendMessage("obsChangeScene",{scene:r})}return(r,t)=>{const m=T("v-icon"),b=T("v-btn"),_=T("v-switch"),C=T("v-app");return e(A).data&&e(s).data&&typeof e(k).data<"u"&&e(F).data?(a(),x(C,{key:0},{default:l(()=>{var V,h,N,P,I;return[e(d).enabled?(V=e(s).data)!=null&&V.connected?(a(),i(g,{key:2},[u("div",J,[e(s).data.transitionTimestamp>e(k).data?(a(),i("span",Q,[y(m,{color:"red"},{default:l(()=>t[2]||(t[2]=[n("mdi-alert")])),_:1}),n(" Transitioning in "+f(((e(s).data.transitionTimestamp-e(k).data)/1e3).toFixed(1))+"s ",1)])):e(s).data.transitioning?(a(),i("span",X,[y(m,{color:"red"},{default:l(()=>t[3]||(t[3]=[n("mdi-alert")])),_:1}),t[4]||(t[4]=n(" Transitioning "))])):e(F).data.estimatedFinishTimestamp>e(k).data?(a(),i("span",Y,[y(m,{color:"red"},{default:l(()=>t[5]||(t[5]=[n("mdi-alert")])),_:1}),n(" Playlist will finish in ~"+f(((e(F).data.estimatedFinishTimestamp-e(k).data)/1e3).toFixed(1))+"s ",1)])):(h=e(s).data)!=null&&h.disableTransitioning?(a(),i("span",Z,[y(m,{color:"red"},{default:l(()=>t[6]||(t[6]=[n("mdi-alert")])),_:1}),t[7]||(t[7]=n(" Transitioning Disabled "))])):(a(),i("span",ee," Not Currently Transitioning "))]),u("div",te,[t[8]||(t[8]=n(" Streaming Status: ")),(N=e(s).data)!=null&&N.streaming?(a(),i("span",se," Connected ")):(a(),i("span",ae," Disconnected "))]),y(b,{onClick:H,disabled:E.value},{default:l(()=>{var o,v;return[t[9]||(t[9]=n(" Transition to Intermission (")),t[10]||(t[10]=u("strong",null,[u("em",null,"ADS")],-1)),t[11]||(t[11]=n(") ")),(o=e(p).data)!=null&&o.audio?(a(),i(g,{key:0},[n(" ("+f((((v=e(p).data)==null?void 0:v.audio)/1e3).toFixed(1))+"s delay) ",1)],64)):c("",!0)]}),_:1},8,["disabled"]),y(b,{class:"mt-1",onClick:t[0]||(t[0]=o=>D(e(d).names.scenes.gameLayout)),disabled:B(e(d).names.scenes.gameLayout)},{default:l(()=>{var o;return[t[12]||(t[12]=n(" Transition to Run ")),(o=e(p).data)!=null&&o.audio?(a(),i(g,{key:0},[n(" ("+f((e(p).data.audio/1e3).toFixed(1))+"s delay) ",1)],64)):c("",!0)]}),_:1},8,["disabled"]),t[14]||(t[14]=u("div",{class:"d-flex mt-3 mb-1"}," Change to Specific Scene: ",-1)),(a(!0),i(g,null,j(e(s).data.sceneList,(o,v)=>(a(),x(b,{key:v,class:z({"mt-1":v!==0}),disabled:B(o),onClick:le=>D(o)},{default:l(()=>[n(f(o)+" ",1),o!==e(s).data.scene&&e(p).data.audio&&(o===e(d).names.scenes.gameLayout||o!==e(d).names.scenes.gameLayout&&e(s).data.scene===e(d).names.scenes.gameLayout)?(a(),i(g,{key:0},[n(" ("+f((e(p).data.audio/1e3).toFixed(1))+"s delay) ",1)],64)):c("",!0)]),_:2},1032,["class","disabled","onClick"]))),128)),e(S).online&&((P=e(s).data)!=null&&P.gameLayoutScreenshot)&&w.value?(a(),i(g,{key:0},[t[13]||(t[13]=u("div",{class:"mt-3 mb-1"},' "Game Layout" Preview (refreshes every second): ',-1)),u("img",{src:(I=e(s).data)==null?void 0:I.gameLayoutScreenshot,style:{width:"100%"}},null,8,ne)],64)):c("",!0),e(S).online?(a(),x(_,{key:1,modelValue:w.value,"onUpdate:modelValue":t[1]||(t[1]=o=>w.value=o),class:"ma-2 mb-0","hide-details":"",label:'Toggle "Game Layout" Preview',inset:""},null,8,["modelValue"])):c("",!0)],64)):(a(),i("div",q," OBS connection currently disconnected. ")):(a(),i("div",W," This feature is not enabled. "))]}),_:1})):c("",!0)}}}),L=K(oe),ie=O();L.use(ie);L.use(U);L.mount("#app");
