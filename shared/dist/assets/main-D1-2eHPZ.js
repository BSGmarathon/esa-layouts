import{d as N,k as z,z as w,c as v,f as H,a as s,o as l,b as t,F as u,C as n,t as r,j as m,e as C,m as M,p as R}from"./index-BRyf49M4.js";import{w as g,x as f,t as x}from"./replicant_store-B4RLeTBF.js";import{w as U}from"./helpers-Cfq79ybz.js";/* empty css                  */import"./_commonjsHelpers-BosuxZz1.js";const S={class:"Flex",style:{"flex-direction":"column",width:"100vw",height:"100vh"}},$={style:{"font-weight":600}},B={style:{"font-weight":600}},P={style:{"white-space":"nowrap"}},A={style:{"font-weight":600}},V={style:{"white-space":"nowrap"}},j={style:{background:"black",color:"white",width:"100%","text-align":"center","font-size":"6vh","padding-bottom":"1vh","padding-top":"30px"}},E=N({__name:"main",setup(I){z({title:"Player HUD"});const o=w(!1),i=w(null);let p;const d=w(null),F=v(()=>`€${g.data.reduce((a,e)=>a>e.amount?a:e.amount,0).toFixed(2)}`),y=v(()=>i.value?i.value.raw.pronouns?`${i.value.user.displayName} (${i.value.raw.pronouns})`:i.value.user.displayName:""),b=v(()=>{var a,e;return((e=(a=i.value)==null?void 0:a.flagcarrier)==null?void 0:e.id)||""}),c=v(()=>{if(o.value)switch(o.value){case"success_comm":case"success_player":return"TagSuccess";case"fail_player":return"TagFail";default:return"TagNothing"}return f.data.playerHUDTriggerType==="message"?"MessageToRead":g.data.length?"DonationsToRead":""});return H(async()=>{await NodeCG.waitForReplicants(x),await U(g,f),nodecg.listenFor("bigbuttonTagScanned",({state:a,data:e})=>{window.clearTimeout(p),d.value=null,o.value=a||!0,i.value=e,p=window.setTimeout(()=>{o.value=!1,i.value=null},7e3)}),nodecg.listenFor("therunggMessage",a=>{window.clearTimeout(p),o.value=!1,i.value=null,d.value=a,p=window.setTimeout(()=>{d.value=null},10*1e3)})}),(a,e)=>{var T,k;return l(),s("div",S,[t("div",{class:C(`PlayerHUD Flex ${c.value}`),style:{width:"100%","flex-grow":1,"flex-direction":"column","box-sizing":"border-box",padding:"30px 5vw",transition:"background-color 1s","text-align":"center","font-size":"11vh"}},[d.value?(l(),s(u,{key:0},[e[0]||(e[0]=t("span",{style:{"font-size":"0.6em"}},"therun.gg Message:",-1)),n(" "+r(d.value),1)],64)):o.value?(l(),s(u,{key:1},[o.value==="success_comm"?(l(),s(u,{key:0},[e[2]||(e[2]=t("div",null,"✔",-1)),t("div",null,[t("span",$,r(y.value),1),e[1]||(e[1]=n(" scanned in as commentator "))])],64)):o.value==="success_player"?(l(),s(u,{key:1},[e[4]||(e[4]=t("div",null,"✔",-1)),t("div",null,[t("span",B,r(y.value),1),e[3]||(e[3]=n(" scanned in as player on ")),t("span",P,"button "+r(b.value)+"!",1)])],64)):o.value==="fail_player"?(l(),s(u,{key:2},[e[6]||(e[6]=t("div",null,"❌",-1)),t("div",null,[t("span",A,r(y.value),1),e[5]||(e[5]=n(" cannot scan in as player on ")),t("span",V,"button "+r(b.value)+"!",1)])],64)):(l(),s(u,{key:3},[e[7]||(e[7]=t("div",null,"❔",-1)),e[8]||(e[8]=t("div",null,"Tag was scanned but not needed",-1))],64))],64)):((T=m(f).data)==null?void 0:T.playerHUDTriggerType)==="message"?(l(),s(u,{key:2},[e[9]||(e[9]=n(" Any time ")),e[10]||(e[10]=t("br",null,null,-1)),e[11]||(e[11]=n("for messages? "))],64)):(k=m(g).data)!=null&&k.length?(l(),s(u,{key:3},[e[12]||(e[12]=n(" Donations Pending: ")),e[13]||(e[13]=t("br",null,null,-1)),n(r(m(g).data.length)+" ",1),e[14]||(e[14]=t("br",null,null,-1)),n("Largest Unread Donation: "+r(F.value),1)],64)):(l(),s(u,{key:4},[e[15]||(e[15]=n(" Nothing currently ")),e[16]||(e[16]=t("br",null,null,-1)),e[17]||(e[17]=n("to be read "))],64))],2),t("div",j,r(m(x).value.time),1)])}}}),D=M(E),G=R();D.use(G);D.mount("#app");
