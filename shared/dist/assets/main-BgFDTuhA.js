import{d as F,c as v,N as c,K as w,o as t,n as A,A as _,b as x,j as s,e as E,t as N,a as u,B as y,F as f,i as M,y as S,f as P,r as z,l as D,m as H}from"./index-Ce_smM0X.js";import{v as U}from"./vuetify-BC_h0XMe.js";import{v as r,y as h,b as k}from"./replicant_store-BlOELdrX.js";import{l as j}from"./lodash-Cn84nazp.js";import{w as I}from"./helpers-Cfq79ybz.js";import{M as K}from"./MediaCard-CQGdsCYj.js";import"./_commonjsHelpers-BosuxZz1.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const O={class:"flex-grow-1",style:{overflow:"hidden"}},R=F({__name:"Bid",props:{bid:{},index:{}},setup(V){const l=V,p=v(()=>{var n,a,e,o;return((a=(n=r.data)==null?void 0:n.pin)==null?void 0:a.type)==="Bid"&&((o=(e=r.data)==null?void 0:e.pin)==null?void 0:o.id)===l.bid.id}),d=v(()=>h.data===l.bid.id);function B(){r.data&&(p.value?r.data.pin=null:r.data.pin={type:"Bid",id:l.bid.id},r.save())}function b(){d.value?h.data=null:h.data=l.bid.id,h.save()}return(n,a)=>{const e=c("v-spacer"),o=c("v-icon"),i=c("v-btn");return t(),w(K,{class:"d-flex align-center px-2",style:A({"text-align":"unset",height:"40px","margin-top":n.index>0?"10px":0})},{default:_(()=>[x("div",O,[x("span",{class:E({"font-italic":p.value&&n.bid.name.includes("no longer available")})},N(n.bid.game||"N/A")+" - "+N(n.bid.name),3)]),s(e),s(o,{onClick:B},{default:_(()=>[p.value?(t(),u(f,{key:0},[y("mdi-pin-off")],64)):(t(),u(f,{key:1},[y("mdi-pin")],64))]),_:1}),s(e),s(i,{elevation:"2",color:d.value?"warning":"",onClick:b},{default:_(()=>[s(o,null,{default:_(()=>[d.value?(t(),u(f,{key:0},[y("mdi-crosshairs-gps")],64)):(t(),u(f,{key:1},[y("mdi-crosshairs")],64))]),_:1})]),_:1},8,["color"])]),_:1},8,["style"])}}}),q={key:0,class:"pa-3 font-italic"},G={class:"d-flex"},J={style:{height:"350px","overflow-y":"scroll"}},Q=F({__name:"main",setup(V){M({title:"Bids control"});const l=v(()=>{var a;return(a=r.data)==null?void 0:a.pin}),p=S(1),d=S(null),B=v(()=>{var a;return((a=l.value)==null?void 0:a.type)==="Bid"?k.data.find(e=>{var o;return e.id===((o=l.value)==null?void 0:o.id)}):void 0}),b=v(()=>j.sortBy(k.data,[p.value===1?"endTime":"game"])),n=v(()=>{var e;const a=[];return!B.value&&((e=l.value)==null?void 0:e.type)==="Bid"&&a.push({name:"Pinned bid no longer available!",id:l.value.id}),a.push(...b.value.filter(o=>{var g;const i=d.value?d.value.toLowerCase():"";return!i||i&&(((g=o.game)==null?void 0:g.toLowerCase().includes(i))||o.name.toLowerCase().includes(i))})),a});return P(async()=>{await I(k,r)}),(a,e)=>{const o=c("v-spacer"),i=c("v-radio"),g=c("v-radio-group"),L=c("v-text-field"),T=c("v-app");return t(),w(T,null,{default:_(()=>[b.value.length?(t(),u(f,{key:1},[x("div",G,[s(o),s(g,{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=m=>p.value=m),inline:"",class:"pa-0 ma-0","hide-details":"",label:"Sort By"},{default:_(()=>[s(i,{label:"Name",value:0}),s(i,{label:"End Time",value:1,class:"mr-0"})]),_:1},8,["modelValue"])]),s(L,{class:"mt-2",modelValue:d.value,"onUpdate:modelValue":e[1]||(e[1]=m=>d.value=m),filled:"",clearable:"",label:"Search...","append-icon":"mdi-magnify",messages:`${n.value.length} bid${n.value.length===1?"":"s"} found.`},null,8,["modelValue","messages"]),x("div",J,[(t(!0),u(f,null,z(n.value,(m,$)=>(t(),w(R,{key:m.id,bid:m,index:$},null,8,["bid","index"]))),128))])],64)):(t(),u("div",q," No open bids available. "))]),_:1})}}}),C=D(Q),W=H();C.use(W);C.use(U);C.mount("#app");
