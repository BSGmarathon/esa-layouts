import{d as M,y as R,c as $,N as C,K as w,D as c,k as e,o as s,A as l,a as o,F as g,b as u,j as y,B as a,t as p,r as j,e as z,l as E,m as J}from"./index-Ce_smM0X.js";import{v as K}from"./vuetify-BC_h0XMe.js";import{H as n,t as O,I as v,F,J as f}from"./replicant_store-DDWmZYDe.js";import"./_commonjsHelpers-BosuxZz1.js";const U={key:0,style:{"font-style":"italic"}},W={key:1,style:{"font-style":"italic"}},q={class:"mb-1"},Q={key:0,class:"red--text font-weight-bold"},X={key:1,class:"red--text font-weight-bold"},Y={key:2,class:"red--text font-weight-bold"},Z={key:3,class:"red--text font-weight-bold"},ee={key:4,class:"font-italic"},te={class:"mb-1"},se={key:0,style:{"font-weight":"bold",color:"#58CF00"}},ne={key:1,style:{"font-weight":"bold",color:"#FF5F5C"}},ae=["src"],oe=M({__name:"main",setup(de){const i=nodecg.bundleConfig.obs,L=nodecg.bundleConfig.event,A=[i.names.scenes.commercials,i.names.scenes.intermission,i.names.scenes.intermissionPlayer,i.names.scenes.intermissionCrowd,i.names.scenes.countdown],T=R(!1),G=$(()=>{var r,t,m;return((r=n.data)==null?void 0:r.transitioning)||((t=n.data)==null?void 0:t.disableTransitioning)||!!A.find(b=>{var k,_;return(_=(k=n.data)==null?void 0:k.scene)==null?void 0:_.startsWith(b)})||["running","paused"].includes(((m=O.value)==null?void 0:m.state)||"")});function S(r){return n.data.transitioning||r===n.data.scene||n.data.disableTransitioning}function H(){nodecg.sendMessage("startIntermission")}function B(r){nodecg.sendMessage("obsChangeScene",{scene:r})}return(r,t)=>{const m=C("v-icon"),b=C("v-btn"),k=C("v-switch"),_=C("v-app");return e(n).data&&e(v).data&&e(F).data?(s(),w(_,{key:0},{default:l(()=>{var D,V,h,N,P;return[e(i).enabled?(D=e(n).data)!=null&&D.connected?(s(),o(g,{key:2},[u("div",q,[e(n).data.transitionTimestamp>e(v).data?(s(),o("span",Q,[y(m,{color:"red"},{default:l(()=>t[2]||(t[2]=[a("mdi-alert")])),_:1}),a(" Transitioning in "+p(((e(n).data.transitionTimestamp-e(v).data)/1e3).toFixed(1))+"s ",1)])):e(n).data.transitioning?(s(),o("span",X,[y(m,{color:"red"},{default:l(()=>t[3]||(t[3]=[a("mdi-alert")])),_:1}),t[4]||(t[4]=a(" Transitioning "))])):e(F).data.estimatedFinishTimestamp>e(v).data?(s(),o("span",Y,[y(m,{color:"red"},{default:l(()=>t[5]||(t[5]=[a("mdi-alert")])),_:1}),a(" Playlist will finish in ~"+p(((e(F).data.estimatedFinishTimestamp-e(v).data)/1e3).toFixed(1))+"s ",1)])):(V=e(n).data)!=null&&V.disableTransitioning?(s(),o("span",Z,[y(m,{color:"red"},{default:l(()=>t[6]||(t[6]=[a("mdi-alert")])),_:1}),t[7]||(t[7]=a(" Transitioning Disabled "))])):(s(),o("span",ee," Not Currently Transitioning "))]),u("div",te,[t[8]||(t[8]=a(" Streaming Status: ")),(h=e(n).data)!=null&&h.streaming?(s(),o("span",se," Connected ")):(s(),o("span",ne," Disconnected "))]),y(b,{onClick:H,disabled:G.value},{default:l(()=>[t[9]||(t[9]=a(" Transition to Intermission (")),t[10]||(t[10]=u("strong",null,[u("em",null,"ADS")],-1)),t[11]||(t[11]=a(") ")),e(f).data.audio?(s(),o(g,{key:0},[a(" ("+p((e(f).data.audio/1e3).toFixed(1))+"s delay) ",1)],64)):c("",!0)]),_:1},8,["disabled"]),y(b,{class:"mt-1",onClick:t[0]||(t[0]=d=>B(e(i).names.scenes.gameLayout)),disabled:S(e(i).names.scenes.gameLayout)},{default:l(()=>[t[12]||(t[12]=a(" Transition to Run ")),e(f).data.audio?(s(),o(g,{key:0},[a(" ("+p((e(f).data.audio/1e3).toFixed(1))+"s delay) ",1)],64)):c("",!0)]),_:1},8,["disabled"]),t[14]||(t[14]=u("div",{class:"d-flex mt-3 mb-1"}," Change to Specific Scene: ",-1)),(s(!0),o(g,null,j(e(n).data.sceneList,(d,I)=>(s(),w(b,{key:I,class:z({"mt-1":I!==0}),disabled:S(d),onClick:le=>B(d)},{default:l(()=>[a(p(d)+" ",1),d!==e(n).data.scene&&e(f).data.audio&&(d===e(i).names.scenes.gameLayout||d!==e(i).names.scenes.gameLayout&&e(n).data.scene===e(i).names.scenes.gameLayout)?(s(),o(g,{key:0},[a(" ("+p((e(f).data.audio/1e3).toFixed(1))+"s delay) ",1)],64)):c("",!0)]),_:2},1032,["class","disabled","onClick"]))),128)),e(L).online&&((N=e(n).data)!=null&&N.gameLayoutScreenshot)&&T.value?(s(),o(g,{key:0},[t[13]||(t[13]=u("div",{class:"mt-3 mb-1"},' "Game Layout" Preview (refreshes every second): ',-1)),u("img",{src:(P=e(n).data)==null?void 0:P.gameLayoutScreenshot,style:{width:"100%"}},null,8,ae)],64)):c("",!0),e(L).online?(s(),w(k,{key:1,modelValue:T.value,"onUpdate:modelValue":t[1]||(t[1]=d=>T.value=d),class:"ma-2 mb-0","hide-details":"",label:'Toggle "Game Layout" Preview',inset:""},null,8,["modelValue"])):c("",!0)],64)):(s(),o("div",W," OBS connection currently disconnected. ")):(s(),o("div",U," This feature is not enabled. "))]}),_:1})):c("",!0)}}}),x=E(oe),ie=J();x.use(ie);x.use(K);x.mount("#app");
