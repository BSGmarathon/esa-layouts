import{d as M,k as U,z as y,c as V,A as D,f as G,J as d,L as B,j as H,o,B as i,b as s,l as C,C as I,a as l,F as S,r as N,t as b,m as L,p as O}from"./index-BRyf49M4.js";import{v as j}from"./vuetify-Dxbcsmt7.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"text--lighten-5"},T=M({__name:"main",setup(K){U({title:"video matrix"});const A=nodecg.bundleConfig,{online:x}=A.event,e=A.obs,g=y([]),m=y([]),c=y(!1);function w(){const t=Array.isArray(e.names.groups.gameCaptures)?e.names.groups.gameCaptures:[e.names.groups.gameCaptures],a=Array.isArray(e.names.groups.cameraCaptures)?e.names.groups.cameraCaptures:[e.names.groups.cameraCaptures];return t.concat(a)}const v=V(()=>{const t=Array.isArray(e.names.sources.gameSources)?e.names.sources.gameSources:[e.names.sources.gameSources],a=Array.isArray(e.names.sources.cameraSources)?e.names.sources.cameraSources:[e.names.sources.cameraSources];return t.concat(a)}),F=V(()=>JSON.parse(JSON.stringify(m.value)));return D(F,async(t,a)=>{if(c.value||!a)return;let n=-1;for(let u=0;u<t.length;u++){const r=t[u],p=a[u];if(r!==p){n=u;break}}if(n===-1)return;c.value=!0;const f=g.value[n],_=v.value[t[n]];await nodecg.sendMessage("setSelectedCaptures",{sceneName:f,sourceName:_}),c.value=!1}),G(async()=>{x||(c.value=!0,g.value=w(),nodecg.listenFor("gameSourceVisibilityUpdated",t=>{m.value=t}),m.value=await nodecg.sendMessage("getGameSourceVisibility"),c.value=!1)}),(t,a)=>{const n=d("v-app"),f=d("v-radio"),_=d("v-radio-group"),u=d("v-table");return H(x)?(o(),B(n,{key:0},{default:i(()=>a[0]||(a[0]=[s("p",null,"Disabled for online events",-1)])),_:1})):(o(),B(n,{key:1},{default:i(()=>[C(u,null,{default:i(()=>[s("thead",null,[s("tr",null,[a[1]||(a[1]=s("th",{class:"text-left text-muted input-dash-output"},[s("span",null,"input"),s("hr"),s("span",null,"output")],-1)),(o(!0),l(S,null,N(v.value,r=>(o(),l("th",{key:r,class:"text-left"},b(r),1))),128))])]),I(" "+b(c.value)+" ",1),s("tbody",null,[(o(!0),l(S,null,N(g.value,(r,p)=>(o(),l("tr",{key:r},[s("td",E,b(r),1),(o(!0),l(S,null,N(v.value.length,h=>(o(),l("td",{key:h},[C(_,{modelValue:m.value[p],"onUpdate:modelValue":J=>m.value[p]=J,row:"",name:`selctor-${r}`},{default:i(()=>[C(f,{value:h-1},null,8,["value"])]),_:2},1032,["modelValue","onUpdate:modelValue","name"])]))),128))]))),128))])]),_:1})]),_:1}))}}}),$=z(T,[["__scopeId","data-v-e20e9d19"]]),k=L($),q=O();k.use(q);k.use(j);k.mount("#app");
