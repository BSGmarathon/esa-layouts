import{d as T,k as w,c as B,f as S,J as v,L as d,j as r,o as a,B as s,b as c,a as i,F as $,r as F,C as p,l as y,t as g,m as L,p as A}from"./index-BRyf49M4.js";import{v as O}from"./vuetify-Dxbcsmt7.js";import{z as k,r as u}from"./replicant_store-BPGasNFT.js";import{w as P}from"./helpers-Cfq79ybz.js";import"./_commonjsHelpers-BosuxZz1.js";const h={key:0},j={key:1},x=T({__name:"main",setup(J){w({title:"FLag carrier control"});const l=nodecg.bundleConfig,_=B(()=>{var t;return(t=k.data)==null?void 0:t.find(e=>{var n;return e.id===((n=u.data)==null?void 0:n.id)})});async function b(t){await fetch(`/${nodecg.bundleName}/button/${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"toggle-timer"})})}async function C(t){await fetch(`/${nodecg.bundleName}/button/${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"reset-timer"})})}return S(async()=>{await P(k,u)}),(t,e)=>{const n=v("v-app"),f=v("v-btn");return r(l).event.online?(a(),d(n,{key:0},{default:s(()=>e[0]||(e[0]=[c("span",{class:"font-italic"}," Not used for online only events. ",-1)])),_:1})):r(l).flagcarrier.enabled?(a(),d(n,{key:2},{default:s(()=>[!r(u).data||!_.value?(a(),i("div",h," There is currently no active run available. ")):(a(),i("div",j,[(a(!0),i($,null,F(r(l).flagcarrier.availableButtons,o=>(a(),i("div",{key:o.id,class:"mt-2"},[p(" Test button "+g(o.id)+" ("+g(o.name)+")",1),e[4]||(e[4]=c("br",null,null,-1)),y(f,{onClick:N=>b(o.id)},{default:s(()=>e[2]||(e[2]=[p(" Normal press ")])),_:2},1032,["onClick"]),y(f,{onClick:N=>C(o.id)},{default:s(()=>e[3]||(e[3]=[p(" Long press ")])),_:2},1032,["onClick"])]))),128))]))]),_:1})):(a(),d(n,{key:1},{default:s(()=>e[1]||(e[1]=[c("span",{class:"font-italic"}," Flagcarrier support is not enabled. ",-1)])),_:1}))}}}),m=L(x),D=A();m.use(D);m.use(O);m.mount("#app");
