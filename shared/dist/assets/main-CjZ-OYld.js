import{d as H,i as z,y as w,c as m,f as M,a as s,o as l,b as t,F as u,B as n,t as r,k as v,e as U,l as B,m as R}from"./index-Ce_smM0X.js";import{w as g,x as f,t as D}from"./replicant_store-ByKiGZ6y.js";import{w as S}from"./helpers-Cfq79ybz.js";/* empty css                  */import"./_commonjsHelpers-BosuxZz1.js";const $={class:"Flex",style:{"flex-direction":"column",width:"100vw",height:"100vh"}},C={style:{"font-weight":600}},P={style:{"font-weight":600}},A={style:{"white-space":"nowrap"}},V={style:{"font-weight":600}},E={style:{"white-space":"nowrap"}},I={style:{background:"black",color:"white",width:"100%","text-align":"center","font-size":"6vh","padding-bottom":"1vh","padding-top":"30px"}},L=H({__name:"main",setup(q){z({title:"Player HUD"});const o=w(!1),i=w(null);let p;const d=w(null),c=m(()=>`€${g.data.reduce((a,e)=>a>e.amount?a:e.amount,0).toFixed(2)}`),y=m(()=>i.value?i.value.raw.pronouns?`${i.value.user.displayName} (${i.value.raw.pronouns})`:i.value.user.displayName:""),b=m(()=>{var a,e;return((e=(a=i.value)==null?void 0:a.flagcarrier)==null?void 0:e.id)||""}),N=m(()=>{if(o.value)switch(o.value){case"success_comm":case"success_player":return"TagSuccess";case"fail_player":return"TagFail";default:return"TagNothing"}return f.data.playerHUDTriggerType==="message"?"MessageToRead":g.data.length?"DonationsToRead":""});return M(async()=>{await S(D,g,f),nodecg.listenFor("bigbuttonTagScanned",({state:a,data:e})=>{window.clearTimeout(p),d.value=null,o.value=a||!0,i.value=e,p=window.setTimeout(()=>{o.value=!1,i.value=null},7e3)}),nodecg.listenFor("therunggMessage",a=>{window.clearTimeout(p),o.value=!1,i.value=null,d.value=a,p=window.setTimeout(()=>{d.value=null},10*1e3)})}),(a,e)=>{var T,k,x;return l(),s("div",$,[t("div",{class:U(`PlayerHUD Flex ${N.value}`),style:{width:"100%","flex-grow":1,"flex-direction":"column","box-sizing":"border-box",padding:"30px 5vw",transition:"background-color 1s","text-align":"center","font-size":"11vh"}},[d.value?(l(),s(u,{key:0},[e[0]||(e[0]=t("span",{style:{"font-size":"0.6em"}},"therun.gg Message:",-1)),n(" "+r(d.value),1)],64)):o.value?(l(),s(u,{key:1},[o.value==="success_comm"?(l(),s(u,{key:0},[e[2]||(e[2]=t("div",null,"✔",-1)),t("div",null,[t("span",C,r(y.value),1),e[1]||(e[1]=n(" scanned in as commentator "))])],64)):o.value==="success_player"?(l(),s(u,{key:1},[e[4]||(e[4]=t("div",null,"✔",-1)),t("div",null,[t("span",P,r(y.value),1),e[3]||(e[3]=n(" scanned in as player on ")),t("span",A,"button "+r(b.value)+"!",1)])],64)):o.value==="fail_player"?(l(),s(u,{key:2},[e[6]||(e[6]=t("div",null,"❌",-1)),t("div",null,[t("span",V,r(y.value),1),e[5]||(e[5]=n(" cannot scan in as player on ")),t("span",E,"button "+r(b.value)+"!",1)])],64)):(l(),s(u,{key:3},[e[7]||(e[7]=t("div",null,"❔",-1)),e[8]||(e[8]=t("div",null,"Tag was scanned but not needed",-1))],64))],64)):((T=v(f).data)==null?void 0:T.playerHUDTriggerType)==="message"?(l(),s(u,{key:2},[e[9]||(e[9]=n(" Any time ")),e[10]||(e[10]=t("br",null,null,-1)),e[11]||(e[11]=n("for messages? "))],64)):(k=v(g).data)!=null&&k.length?(l(),s(u,{key:3},[e[12]||(e[12]=n(" Donations Pending: ")),e[13]||(e[13]=t("br",null,null,-1)),n(r(v(g).data.length)+" ",1),e[14]||(e[14]=t("br",null,null,-1)),n("Largest Unread Donation: "+r(c.value),1)],64)):(l(),s(u,{key:4},[e[15]||(e[15]=n(" Nothing currently ")),e[16]||(e[16]=t("br",null,null,-1)),e[17]||(e[17]=n("to be read "))],64))],2),t("div",I,r(((x=v(D).data)==null?void 0:x.time)||"00:00:00"),1)])}}}),F=B(L),j=R();F.use(j);F.mount("#app");
