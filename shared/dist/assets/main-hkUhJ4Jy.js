import{d as U,i as D,y,c as V,z as G,f as H,N as d,K as B,k as I,o,A as i,b as s,j as C,B as J,a as l,F as S,r as N,t as b,l as O,m as j}from"./index-Ce_smM0X.js";import{v as z}from"./vuetify-BC_h0XMe.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";const K={class:"text--lighten-5"},L=U({__name:"main",setup(q){D({title:"video matrix"});const A=nodecg.bundleConfig,{online:x}=A.event,e=A.obs,g=y([]),m=y([]),c=y(!1);function w(){const t=Array.isArray(e.names.groups.gameCaptures)?e.names.groups.gameCaptures:[e.names.groups.gameCaptures],a=Array.isArray(e.names.groups.cameraCaptures)?e.names.groups.cameraCaptures:[e.names.groups.cameraCaptures];return t.concat(a)}const v=V(()=>{const t=Array.isArray(e.names.sources.gameSources)?e.names.sources.gameSources:[e.names.sources.gameSources],a=Array.isArray(e.names.sources.cameraSources)?e.names.sources.cameraSources:[e.names.sources.cameraSources];return t.concat(a)}),F=V(()=>JSON.parse(JSON.stringify(m.value)));return G(F,async(t,a)=>{if(c.value||!a)return;let n=-1;for(let u=0;u<t.length;u++){const r=t[u],p=a[u];if(r!==p){n=u;break}}if(n===-1)return;c.value=!0;const f=g.value[n],_=v.value[t[n]];await nodecg.sendMessage("setSelectedCaptures",{sceneName:f,sourceName:_}),c.value=!1}),H(async()=>{x||(c.value=!0,g.value=w(),nodecg.listenFor("gameSourceVisibilityUpdated",t=>{m.value=t}),m.value=await nodecg.sendMessage("getGameSourceVisibility"),c.value=!1)}),(t,a)=>{const n=d("v-app"),f=d("v-radio"),_=d("v-radio-group"),u=d("v-table");return I(x)?(o(),B(n,{key:0},{default:i(()=>a[0]||(a[0]=[s("p",null,"Disabled for online events",-1)])),_:1})):(o(),B(n,{key:1},{default:i(()=>[C(u,null,{default:i(()=>[s("thead",null,[s("tr",null,[a[1]||(a[1]=s("th",{class:"text-left text-muted input-dash-output"},[s("span",null,"input"),s("hr"),s("span",null,"output")],-1)),(o(!0),l(S,null,N(v.value,r=>(o(),l("th",{key:r,class:"text-left"},b(r),1))),128))])]),J(" "+b(c.value)+" ",1),s("tbody",null,[(o(!0),l(S,null,N(g.value,(r,p)=>(o(),l("tr",{key:r},[s("td",K,b(r),1),(o(!0),l(S,null,N(v.value.length,h=>(o(),l("td",{key:h},[C(_,{modelValue:m.value[p],"onUpdate:modelValue":M=>m.value[p]=M,row:"",name:`selctor-${r}`},{default:i(()=>[C(f,{value:h-1},null,8,["value"])]),_:2},1032,["modelValue","onUpdate:modelValue","name"])]))),128))]))),128))])]),_:1})]),_:1}))}}}),T=E(L,[["__scopeId","data-v-34c2ed19"]]),k=O(T),$=j();k.use($);k.use(z);k.mount("#app");
