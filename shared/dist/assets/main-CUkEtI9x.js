import{d as u,c as p,J as f,a as k,o as d,B as v,j as y,t as r,i as _,f as g,L as m,A as h,b as x,F as D,r as V,l as b,m as B}from"./index-CWzvgqpS.js";import{v as C}from"./vuetify-BmC0pzeD.js";import{o as n}from"./replicant_store-BPC1BbL0.js";import{w}from"./helpers-Cfq79ybz.js";import"./_commonjsHelpers-BosuxZz1.js";const A={class:"d-flex"},F=u({__name:"Donation",props:{donation:{}},setup(s){function c(a){if(!n.data)return;const e=n.data.findIndex(o=>o.key===s.donation.key);e>-1?n.data[e].active=a:n.data.push({key:s.donation.key,active:a}),n.save(),nodecg.sendMessage("additionalDonationToggle",{key:s.donation.key,active:a})}const i=p({get:()=>s.donation.active,set:a=>c(a)});return(a,e)=>{const o=f("v-checkbox");return d(),k("div",A,[v(r(a.donation.description)+" - $"+r(a.donation.amount)+" - ",1),y(o,{class:"ma-0 pa-0 ml-1",modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=t=>i.value=t)},null,8,["modelValue"])])}}}),I={class:"mb-2"},M=u({__name:"main",setup(s){_({title:"Additional donations control"});const c=nodecg.bundleConfig.additionalDonations,i=p(()=>c.map(a=>{var e,o;return{key:a.key,description:a.description,amount:a.amount,active:((o=(e=n.data)==null?void 0:e.find(t=>t.key===a.key))==null?void 0:o.active)??!1}}));return g(async()=>{await w(n)}),(a,e)=>{const o=f("v-app");return d(),m(o,null,{default:h(()=>[x("div",I,[(d(!0),k(D,null,V(i.value,t=>(d(),m(F,{key:t.key,donation:t},null,8,["donation"]))),128))])]),_:1})}}}),l=b(M),N=B();l.use(N);l.use(C);l.mount("#app");
