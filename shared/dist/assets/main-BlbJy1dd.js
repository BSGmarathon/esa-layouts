/* empty css                  */import{d as g,c as A,a as l,o as d,b as c,n as I,F as k,r as P,e as B,t as D,u as G,f as Y,g as C,h as j,i as E,j as p,k as L,l as H,m as T}from"./index-CWzvgqpS.js";import{c as M}from"./pinia-BtNrPQ_B.js";import{g as F}from"./helpers-ZI0DYonA.js";import{_ as R}from"./MusicTrack.vue_vue_type_script_setup_true_lang-NDzCeI_G.js";import{u as V}from"./replicant_store-BPC1BbL0.js";import{m}from"./helpers-Cfq79ybz.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./_commonjsHelpers-BosuxZz1.js";const J={style:{"text-align":"center"}},z={style:{"font-size":"70px"}},W={key:0},K={key:1},X=g({__name:"Countdown",setup(o){const t=V("countdown","esa-layouts"),s=A(()=>{var i;return((i=t==null?void 0:t.data)==null?void 0:i.remaining)??0}),e=A(()=>{const i=Math.round(s.value/1e3);return i>=60*60*10?m(i*1e3):i>=60*60?m(i*1e3).slice(1):m(i*1e3).slice(3)});return(i,a)=>(d(),l("div",J,[c("div",z,[s.value>0?(d(),l("span",W," Event Starts In ")):(d(),l("span",K," Event Starts Soon "))]),c("div",{class:"eventTimer",style:I({"font-size":"200px","margin-top":"-0.2em",color:"white","font-weight":"600",opacity:s.value>0?1:0})},[(d(!0),l(k,null,P(e.value,(n,r)=>(d(),l("span",{key:r,class:B({dot:r===2})},D(n),3))),128))],4)]))}}),U=O(X,[["__scopeId","data-v-c0e6613e"]]),Q="/bundles/esa-layouts/shared/dist/assets/turtle1-CUvMq5wn.png",Z="/bundles/esa-layouts/shared/dist/assets/turtle2-BazD7ZFW.png",N="/bundles/esa-layouts/shared/dist/assets/turtle3-Bz2hfP6z.png",q="/bundles/esa-layouts/shared/dist/assets/turtle4-YgeRcodD.png",$="/bundles/esa-layouts/shared/dist/assets/turtle5-NlDs5Url.png",tt="/bundles/esa-layouts/shared/dist/assets/turtle6-CnitV5I_.png",st="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABpCAYAAACtZKTIAAAABmJLR0QAOQABAART3c+mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH6AMWEyU7Q4llNgAABLtJREFUeNrtnF1S6zAMhSNP1gFbKG/MXFgD7OaWFVB2A2ugDLxdtsBG0H3BHZM6sSzJf4k905k+JG36+RxJVtzAsIKBiKTjAED9u8e1Q0s9YOvQpKqE1qF97m/E33H19MY+17Qc+zTgSYfp8FaaRHzWrQVa9QpsBV51CmwJ3CqSSK8DEypvdzhmqQWhVni7wxEDWRg4sLRB1mhhDMH7gYbDMNjXdi3sKDAIImTr3eEIuRVYC0DUjIFckByAY0FwqtA2VcZgLb2oFmPgHDxt9TFsjI6VoXoLpxrMkgZ9k0wBWVSBGqojAIMYeDPJBYorUCPuaRXMMfDstc9BLFZIZ8y4KIEXEsBYM7yA4oADQuqiqRJNK/ZdiGvgvFStS/ktY622XVAfBMDiDDAgHNfOSkRo22EBEhUOG6Jr5bEm+ybIslSIv0JbzDUnA3jxvifblwgOAspbVJcF5GEDLjP4GSGIVoVqhfS/v39O7+/ub0/vv64fkRL7hAUxErMzUBKK5RKCqALQBecOC/Hl+RUVbQsR2dQX40gAXUBLEAEAkljYVWCmZgjmXp4mSyJUeEoJY5p5YSYmBksr3/VQkolpTHnoeU+x6dn5n/sb/NzfsBobbugTy91O0uXHw+wx0ziooD7wZGAkxkhwwcW6Y5o3Rgm0ggM9yze12Ddna1/SBQ14S+qzCkxUJFNLm7NzQiqcG1dPb/xmAld5d/e3kFCJsdlTtBNhysA0ZNsliBgLVuIIl0W2hurlxwNkArkI7/v7+1Se7A5HcUIzCmBqgsiKmRKIpnH7RsMDAJyDGALpu1Wa/Z5IYRWyY+PcfWaQKjDGwu5Hfl0/5lYfalneZvMSCjwFeSZ47VpRfJ7JDU5BvRzloSY8t44kARS2DVEri0cCgByKNRmUp1oKRQJAbXhTMZFpzyWS6ZpysmyL+gHCxCIBlx7gFGJoMc7tDQogsgHaDeuhOtAXyljdGEonIwQwcxkThOd0W6LOHxlfSJrdl+fXEvd5RfCKrIUDF1j90k6iPpYCp0ueFjeGa94Pj00iyFFcTVYG5SdPGC14W1NebDOBDE9hD0xL/MIKjFWeRpe3ooZCuiTSimuV1vM8BUrink+FGVtYZ6pLFcLN2pWXGiKkzLohxSVczgU7yV2BlYwxh8zXPJIpsKB9ywHs6usxMGnRnKWQzlzrbVOBa4l/IYDQ1SdXIGjDS6w+8g3xnDFwcV9JjOrWZN0zgKF/NS31HLZcxoBGDXj58YAVKC/4r6UiDdXGhm+vNFavQAAYEPGXEmvc/wepuqoWIOc1/YyL9z1mHvZa6CeEWZCPZyvQN5lzT2LLHPeo1z/XdMWY40euZSuOe1THqUy00YSXEaxkA+WgCdw0rLy6CmmKPdwHM5SuW2MzcO618GL9lHmbB5SwbDRAR1TIjQmKYKuGtqRAlSeaCYGBkrWriIHJIWrF01L3c0yhuKYfKAsltlU1E1JCrO4JlmuZGLOlH9stXABi6LPMltSS4vpWGwMlk2OfIZilDqwdIrU84wKHUnVgTvuGngHYkwhjsmJsmlyBMVZpIXlkA+gDkdIuVQPkQITeou5LuQ6wVYDdvh6AHYowicQklA47spLH/h+IPlKM/4ZGKCkm2GxbAAAAAElFTkSuQmCC",et="/bundles/esa-layouts/shared/dist/assets/turtle-death-DdAm1a28.png",it="/bundles/esa-layouts/shared/dist/assets/sprite-cactus-C3VVP_XW.png",at="/bundles/esa-layouts/shared/dist/assets/sprite-three-cactus-cvYNNFuv.png";class f{constructor(t,s){this.x=t,this.y=s}add(t,s){this.x+=t,this.y+=s}}class nt{constructor(t,s,e){this.position=t,this.w=s,this.h=e}overlaps(t){return this.position.x<t.position.x+t.w&&this.position.x+this.w>t.position.x&&this.position.y<t.position.y+t.h&&this.position.y+this.h>t.position.y}isAboutToOverlap(t){const s=this.position.x+20;return s<t.position.x+t.w&&s+this.w>t.position.x&&this.position.y<t.position.y+t.h&&this.position.y+this.h>t.position.y}overlapsWithOthers(t){for(const s of t)if(this.overlaps(s))return!0;return!1}isAboutToOverlapWithOthers(t){for(const s of t)if(this.isAboutToOverlap(s))return!0;return!1}}class w{constructor(t,s,e){this.playSpeed=t,this.showTime=s,this.images=e,this.timer=0,this.index=0}update(){this.timer+=this.playSpeed,this.timer>=this.showTime&&(this.timer=0,this.index=(this.index+1)%this.images.length)}getImage(){return this.images[this.index]}reset(){this.index=0}static create(t,s,e){const i=[];return e.forEach(a=>{i.push(document.querySelector(a))}),new w(t,s,i)}}class rt{constructor(t,s,e,i,a,n){this.position=t,this.groundY=s,this.height=e,this.jumpPower=i,this.jumpHeight=a,this.gravity=n,this.isJumping=!1}update(){this.isJumping&&this.position.add(0,-this.jumpPower),this.position.y<=this.groundY-this.jumpHeight&&(this.isJumping=!1),!this.isJumping&&!this.isGrounded&&this.position.add(0,this.gravity),this.position.y>=this.groundY-this.height&&(this.position.y=this.groundY-this.height)}jump(){this.isGrounded&&(this.isJumping=!0)}get isGrounded(){return this.position.y===this.groundY-this.height}}class v{constructor(t,s,e,i,a,n){this.position=t,this.animator=s,this.movement=e,this.collider=i,this.jumpingImage=a,this.deathImage=n}update(){this.movement.update(),this.movement.isGrounded&&this.animator.update()}getPlayerImage(t){return t?this.deathImage:this.movement.isGrounded?this.animator.getImage():this.jumpingImage}draw(t,s){t.beginPath(),t.drawImage(this.getPlayerImage(s),this.position.x,this.position.y,this.collider.w,this.collider.h),t.closePath()}jump(){this.movement.isGrounded&&(this.movement.jump(),this.animator.reset())}overlapsWithOthers(t){return this.collider.overlapsWithOthers(t)}isAboutToOverlapWithOthers(t){return this.collider.isAboutToOverlapWithOthers(t)}static create(t,s){const e=new f(t.startX,s),i=new nt(e,t.width,t.height),a=w.create(t.playSpeed,t.showTime,t.imageSources),n=new rt(e,s,t.height,t.jumpPower,t.jumpHeight,t.gravity),r=document.querySelector(t.jumpingImageSource),_=document.querySelector(t.deathImageSource);return new v(e,a,n,i,r,_)}}class b{constructor(t,s,e){this.max=t,this.w=s,this.h=e,this.current=t}draw(t){t.fillStyle="rgb(255, 255, 255)",t.strokeStyle="rgb(255, 255, 255)"}update(){}}class y{constructor(t,s,e,i,a,n){this.obstacles=t,this.maxActive=s,this.speed=e,this.startX=i,this.minLength=a,this.maxlength=n,this.activeObstacles=[],this.lastObstacle=null,this.nextSpawnLength=0}draw(t){this.activeObstacles.forEach(s=>{s.draw(t)})}update(){for(let t=this.activeObstacles.length-1;t>-1;t--)this.activeObstacles[t].position.add(-this.speed,0),this.activeObstacles[t].position.x<0&&this.activeObstacles.splice(t,1);this.trySpawn()}trySpawn(){if(this.activeObstacles.length>=this.maxActive||this.lastObstacle!=null&&this.lastObstacle.position.x>this.startX-this.nextSpawnLength)return;const t=this.getInactiveObstacles();if(t.length===0)return;const s=Math.floor(Math.random()*t.length);this.spawn(t[s])}spawn(t){this.lastObstacle=t,this.lastObstacle.position.x=this.startX,this.activeObstacles.push(t),this.nextSpawnLength=Math.floor(Math.random()*this.maxlength+this.minLength)}getInactiveObstacles(){const t=[];return this.obstacles.forEach(s=>{(s.position.x<0||s.position.x>this.startX)&&t.push(s)}),t}static create(t,s,e){return t.obstacles.forEach((i,a)=>{t.obstacles[a].position.x=-1,t.obstacles[a].position.y=e-t.obstacles[a].h}),new y(t.obstacles,t.maxActive,t.speed,s,t.minLength,t.maxlength)}}const S="Space";class ht{constructor(){this.keys=[],this.chatJump=!1,window.addEventListener("keydown",t=>{switch(t.code){case S:{if(this.keys.includes(t.code))return;this.keys.push(t.code);break}}}),window.addEventListener("keyup",t=>{const s=this.keys.indexOf(t.code);s>-1&&this.keys.splice(s,1)})}get isJump(){return this.chatJump||this.keys.includes(S)}}class ot{constructor(t,s,e,i,a,n){this.canvas=t,this.frameRate=s,this.playerOptions=i,this.spawnerOptions=a,this.difficulty=n,this.speed=0,this.score=0,this.highScore=parseInt(localStorage.getItem("highScore")||"0",10),this.player=null,this.spawner=null,this.gameOver=!1,this.inputHandler=new ht,this.background=new b(0,0,0),this.groundY=this.canvas.height-e;const r=t.getContext("2d");if(r===null)throw new Error("Could not get 2d context from canvas");this.ctx=r,this.initialize()}initialize(){this.background=new b(0,this.canvas.width,this.canvas.height),this.player=v.create(this.playerOptions,this.groundY),this.spawner=y.create(this.spawnerOptions,this.canvas.width,this.groundY),this.speed=0,this.score=0,this.gameOver=!1}start(){window.requestAnimationFrame(()=>{this.update()})}handleInput(){var t,s,e,i;this.inputHandler.isJump&&(this.gameOver||(t=this.player)==null||t.jump()),(e=this.player)!=null&&e.isAboutToOverlapWithOthers(((s=this.spawner)==null?void 0:s.activeObstacles)??[])&&((i=this.player)==null||i.jump())}update(){var t,s;this.handleInput(),!(this.player===null||this.spawner===null)&&(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.background.draw(this.ctx),this.drawGround(),(t=this.player)==null||t.draw(this.ctx,this.gameOver),(s=this.spawner)==null||s.draw(this.ctx),this.gameOver?(this.drawGameOver(),this.updateHighScore(this.score)):(this.increaseDifficulty(),this.background.update(),this.player.update(),this.spawner.update(),window.requestAnimationFrame(()=>{this.update()})))}increaseDifficulty(){this.player===null||this.spawner===null||this.speed<this.difficulty.maxIncreasement&&(this.speed+=this.difficulty.speedIncreasement,this.player.movement.jumpPower+=this.difficulty.speedIncreasement,this.player.movement.gravity+=this.difficulty.speedIncreasement,this.spawner.speed+=this.difficulty.speedIncreasement)}drawGameOver(){this.ctx.font="40px sans-serif",this.ctx.beginPath(),this.ctx.fillText('Type "jump" to jump',this.canvas.width/2-260,this.canvas.height/2-50),this.ctx.closePath(),this.ctx.beginPath(),this.ctx.fillText("GAME OVER",this.canvas.width/2-190,this.canvas.height/2),this.ctx.closePath(),this.ctx.font="30px sans-serif",this.ctx.beginPath(),this.ctx.fillText("Game restarts in 5 seconds",this.canvas.width/2-290,this.canvas.height/2+50),this.ctx.closePath()}drawScore(){this.ctx.beginPath(),this.ctx.fillText(`score: ${this.score}`,10,this.highScore>0?40:20),this.ctx.closePath()}drawHighScore(){this.ctx.beginPath(),this.ctx.fillText(`HI score: ${this.highScore}`,10,20),this.ctx.closePath()}updateHighScore(t){this.highScore=Math.max(this.highScore,t)}drawGround(){this.ctx.beginPath(),this.ctx.rect(0,this.groundY,this.canvas.width,3),this.ctx.fill(),this.ctx.closePath()}}class u{constructor(t,s,e,i){this.position=t,this.noOfParts=s,this.h=e,this.w=i}draw(t){for(let s=0;s<this.noOfParts;s+=.3){const e=this.w/(s+1),i=this.h/(s+2),a=this.position.x+(this.w-e)/2,n=this.position.y+i;t.beginPath(),t.rect(a,n,e,i),t.fill(),t.closePath()}}static create(t,s,e,i,a){const n=new f(t,s);return new u(n,a,e,i)}}class h{constructor(t,s,e,i){this.position=t,this.image=s,this.spw=e,this.sph=i,this.h=this.sph,this.w=this.spw-50}draw(t){t.beginPath(),t.drawImage(this.image,this.position.x,this.position.y,this.spw,this.sph),t.closePath()}static create(t,s,e,i,a){const n=new f(t,s),r=document.querySelector(a);return new h(n,r,e,i)}}const ct=g({__name:"game",setup(o){const t=G("canvas");let s=null;return Y(async()=>{await C();const e={width:40,height:52,startX:1865/2,jumpPower:15,jumpHeight:220,gravity:12,playSpeed:2,showTime:5,imageSources:["#turtle1","#turtle2","#turtle3","#turtle4","#turtle5","#turtle6"],jumpingImageSource:"#turtle-jump",deathImageSource:"#turtle-death"},i={width:30,height:50,minLength:200,maxlength:350,speed:5,maxActive:5,obstacles:[h.create(-130,0,30,66,"#sprite-cactus"),h.create(-130,0,30,66,"#sprite-cactus"),h.create(-130,0,30,66,"#sprite-cactus"),h.create(-130,0,30,66,"#sprite-cactus"),h.create(-130,0,98,66,"#sprite-big-cactus"),h.create(-130,0,98,66,"#sprite-big-cactus"),h.create(-130,0,98,66,"#sprite-big-cactus"),u.create(-130,0,28,25,5),u.create(-130,0,28,25,5)]},a={speedIncreasement:.01,maxIncreasement:1},n=30,r=20;s=new ot(t.value,n,r,e,i,a),s.start()}),(e,i)=>(d(),l("div",null,[c("div",null,[c("canvas",{ref_key:"canvas",ref:t,width:"1865",height:"300"},null,512)]),i[0]||(i[0]=j('<div data-v-d4f1a33d><img id="turtle1" src="'+Q+'" data-v-d4f1a33d><img id="turtle2" src="'+Z+'" data-v-d4f1a33d><img id="turtle3" src="'+N+'" data-v-d4f1a33d><img id="turtle4" src="'+q+'" data-v-d4f1a33d><img id="turtle5" src="'+$+'" data-v-d4f1a33d><img id="turtle6" src="'+tt+'" data-v-d4f1a33d><img id="turtle-jump" src="'+st+'" data-v-d4f1a33d><img id="turtle-death" src="'+et+'" data-v-d4f1a33d><img id="sprite-cactus" src="'+it+'" data-v-d4f1a33d><img id="sprite-big-cactus" src="'+at+'" data-v-d4f1a33d></div>',1))]))}}),lt=O(ct,[["__scopeId","data-v-d4f1a33d"]]),dt={id:"Layout",class:"Flex bsglayout countdownLayout",style:{"flex-direction":"column",height:"100%"}},ut={class:"game-container"},pt={class:"musicContainer"},mt=g({__name:"main",setup(o){E({title:"Countdown"});const t=F();return(s,e)=>(d(),l("div",{id:"Countdown",class:"Flex",style:I({zoom:L(t)})},[e[0]||(e[0]=c("div",{id:"Background"},null,-1)),c("div",dt,[p(U,{class:"textOrangeShadow"}),c("div",ut,[p(lt)]),c("div",pt,[p(R,{"hide-icon":"",class:"music"})])])],4))}}),x=H(mt),gt=T(),ft=M();x.use(gt);x.use(ft);x.mount("#app");
