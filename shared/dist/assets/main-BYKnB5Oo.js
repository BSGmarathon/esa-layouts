import{d as p,c as u,J as f,a as k,o as d,C as v,l as y,t as r,k as _,f as g,L as m,B as h,b as x,F as D,r as C,m as V,p as b}from"./index-DqcJ0cuC.js";import{v as B}from"./vuetify-H0AyR9tY.js";import{o as n}from"./replicant_store-DazYO-BV.js";import{w}from"./helpers-Cfq79ybz.js";import"./_commonjsHelpers-BosuxZz1.js";const F={class:"d-flex"},I=p({__name:"Donation",props:{donation:{}},setup(s){function c(a){if(!n.data)return;const e=n.data.findIndex(o=>o.key===s.donation.key);e>-1?n.data[e].active=a:n.data.push({key:s.donation.key,active:a}),n.save(),nodecg.sendMessage("additionalDonationToggle",{key:s.donation.key,active:a})}const i=u({get:()=>s.donation.active,set:a=>c(a)});return(a,e)=>{const o=f("v-checkbox");return d(),k("div",F,[v(r(a.donation.description)+" - $"+r(a.donation.amount)+" - ",1),y(o,{class:"ma-0 pa-0 ml-1",modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=t=>i.value=t)},null,8,["modelValue"])])}}}),M={class:"mb-2"},N=p({__name:"main",setup(s){_({title:"Additional donations control"});const c=nodecg.bundleConfig.additionalDonations,i=u(()=>c.map(a=>{var e,o;return{key:a.key,description:a.description,amount:a.amount,active:((o=(e=n.data)==null?void 0:e.find(t=>t.key===a.key))==null?void 0:o.active)??!1}}));return g(async()=>{await w(n)}),(a,e)=>{const o=f("v-app");return d(),m(o,null,{default:h(()=>[x("div",M,[(d(!0),k(D,null,C(i.value,t=>(d(),m(I,{key:t.key,donation:t},null,8,["donation"]))),128))])]),_:1})}}}),l=V(N),$=b();l.use($);l.use(B);l.mount("#app");
