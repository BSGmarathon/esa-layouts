import{d as U,i as D,y,c as x,z as G,f as H,N as d,K as V,k as I,o,A as i,b as s,j as C,a as c,F as S,r as b,t as w,l as J,m as O}from"./index-Ce_smM0X.js";import{v as j}from"./vuetify-BC_h0XMe.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"text--lighten-5"},K=U({__name:"main",setup(q){D({title:"video matrix"});const k=nodecg.bundleConfig,{online:A}=k.event,e=k.obs,g=y([]),l=y([]),m=y(!1);function B(){const t=Array.isArray(e.names.groups.gameCaptures)?e.names.groups.gameCaptures:[e.names.groups.gameCaptures],a=Array.isArray(e.names.groups.cameraCaptures)?e.names.groups.cameraCaptures:[e.names.groups.cameraCaptures];return t.concat(a)}const v=x(()=>{const t=Array.isArray(e.names.sources.gameSources)?e.names.sources.gameSources:[e.names.sources.gameSources],a=Array.isArray(e.names.sources.cameraSources)?e.names.sources.cameraSources:[e.names.sources.cameraSources];return t.concat(a)}),F=x(()=>JSON.parse(JSON.stringify(l.value)));return G(F,async(t,a)=>{if(m.value||!a)return;let n=-1;for(let u=0;u<t.length;u++){const r=t[u],p=a[u];if(r!==p){n=u;break}}if(n===-1)return;m.value=!0;const f=g.value[n],_=v.value[t[n]];await nodecg.sendMessage("setSelectedCaptures",{sceneName:f,sourceName:_}),m.value=!1}),H(async()=>{A||(m.value=!0,g.value=B(),nodecg.listenFor("gameSourceVisibilityUpdated",t=>{l.value=t}),l.value=await nodecg.sendMessage("getGameSourceVisibility"),m.value=!1)}),(t,a)=>{const n=d("v-app"),f=d("v-radio"),_=d("v-radio-group"),u=d("v-table");return I(A)?(o(),V(n,{key:0},{default:i(()=>a[0]||(a[0]=[s("p",null,"Disabled for online events",-1)])),_:1})):(o(),V(n,{key:1},{default:i(()=>[C(u,null,{default:i(()=>[s("thead",null,[s("tr",null,[a[1]||(a[1]=s("th",{class:"text-left text-muted input-dash-output"},[s("span",null,"input"),s("hr"),s("span",null,"output")],-1)),(o(!0),c(S,null,b(v.value,r=>(o(),c("th",{key:r,class:"text-left"},w(r),1))),128))])]),s("tbody",null,[(o(!0),c(S,null,b(g.value,(r,p)=>(o(),c("tr",{key:r},[s("td",E,w(r),1),(o(!0),c(S,null,b(v.value.length,h=>(o(),c("td",{key:h},[C(_,{modelValue:l.value[p],"onUpdate:modelValue":M=>l.value[p]=M,row:"",name:`selctor-${r}`},{default:i(()=>[C(f,{value:h-1},null,8,["value"])]),_:2},1032,["modelValue","onUpdate:modelValue","name"])]))),128))]))),128))])]),_:1})]),_:1}))}}}),L=z(K,[["__scopeId","data-v-ee49b8df"]]),N=J(L),$=O();N.use($);N.use(j);N.mount("#app");
