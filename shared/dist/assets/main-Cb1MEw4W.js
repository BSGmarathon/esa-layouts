import{d as T,i as w,c as B,f as S,J as v,L as d,k as r,o as a,A as s,b as c,a as i,F as $,r as A,B as u,j as y,t as g,l as F,m as L}from"./index-CWzvgqpS.js";import{v as O}from"./vuetify-BmC0pzeD.js";import{z as k,r as p}from"./replicant_store-BPC1BbL0.js";import{w as P}from"./helpers-Cfq79ybz.js";import"./_commonjsHelpers-BosuxZz1.js";const h={key:0},j={key:1},x=T({__name:"main",setup(J){w({title:"FLag carrier control"});const l=nodecg.bundleConfig,_=B(()=>{var t;return(t=k.data)==null?void 0:t.find(e=>{var n;return e.id===((n=p.data)==null?void 0:n.id)})});async function b(t){await fetch(`/${nodecg.bundleName}/button/${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"toggle-timer"})})}async function C(t){await fetch(`/${nodecg.bundleName}/button/${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"reset-timer"})})}return S(async()=>{await P(k,p)}),(t,e)=>{const n=v("v-app"),f=v("v-btn");return r(l).event.online?(a(),d(n,{key:0},{default:s(()=>e[0]||(e[0]=[c("span",{class:"font-italic"}," Not used for online only events. ",-1)])),_:1})):r(l).flagcarrier.enabled?(a(),d(n,{key:2},{default:s(()=>[!r(p).data||!_.value?(a(),i("div",h," There is currently no active run available. ")):(a(),i("div",j,[(a(!0),i($,null,A(r(l).flagcarrier.availableButtons,o=>(a(),i("div",{key:o.id,class:"mt-2"},[u(" Test button "+g(o.id)+" ("+g(o.name)+")",1),e[4]||(e[4]=c("br",null,null,-1)),y(f,{onClick:N=>b(o.id)},{default:s(()=>e[2]||(e[2]=[u(" Normal press ")])),_:2},1032,["onClick"]),y(f,{onClick:N=>C(o.id)},{default:s(()=>e[3]||(e[3]=[u(" Long press ")])),_:2},1032,["onClick"])]))),128))]))]),_:1})):(a(),d(n,{key:1},{default:s(()=>e[1]||(e[1]=[c("span",{class:"font-italic"}," Flagcarrier support is not enabled. ",-1)])),_:1}))}}}),m=F(x),D=L();m.use(D);m.use(O);m.mount("#app");
